{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\BumSu Park\\\\React\\\\macguffin\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\BumSu Park\\\\React\\\\macguffin\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\BumSu Park\\\\React\\\\macguffin\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\BumSu Park\\\\React\\\\macguffin\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"C:\\\\Users\\\\BumSu Park\\\\React\\\\macguffin\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\BumSu Park\\\\React\\\\macguffin\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Route}from'react-router-dom';import{Home,Auth,Asset}from'pages';import HeaderContainer from'containers/Base/HeaderContainer';import storage from'lib/storage';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as userActions from'redux/modules/user';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.initializeUserInfo=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var loggedInfo,UserActions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:loggedInfo=storage.get('loggedInfo');// 로그인 정보를 로컬스토리지에서 가져옵니다.\nif(loggedInfo){_context.next=3;break;}return _context.abrupt(\"return\");case 3:// 로그인 정보가 없다면 여기서 멈춥니다.\nUserActions=_this.props.UserActions;UserActions.setLoggedInfo(loggedInfo);_context.prev=5;_context.next=8;return UserActions.checkStatus();case 8:_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](5);storage.remove('loggedInfo');window.location.href='/auth/login?expired';case 14:window.location.href='/asset';case 15:case\"end\":return _context.stop();}}},_callee,null,[[5,10]]);}));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.initializeUserInfo();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(HeaderContainer,null),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/React.createElement(Route,{path:\"/auth\",component:Auth}),/*#__PURE__*/React.createElement(Route,{path:\"/asset_debug\",component:Asset}));}}]);return App;}(Component);export default connect(null,function(dispatch){return{UserActions:bindActionCreators(userActions,dispatch)};})(App);","map":{"version":3,"sources":["C:/Users/BumSu Park/React/macguffin/src/App.js"],"names":["React","Component","Route","Home","Auth","Asset","HeaderContainer","storage","connect","bindActionCreators","userActions","App","initializeUserInfo","loggedInfo","get","UserActions","props","setLoggedInfo","checkStatus","remove","window","location","href","dispatch"],"mappings":"2tBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,KAAT,KAAsB,kBAAtB,CACA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,KAArB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,eAAP,KAA4B,iCAA5B,CAEA,MAAOC,CAAAA,OAAP,KAAoB,aAApB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAAQC,kBAAR,KAAiC,OAAjC,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,oBAA7B,C,GAGMC,CAAAA,G,+SAEFC,kB,sEAAqB,8JACXC,UADW,CACEN,OAAO,CAACO,GAAR,CAAY,YAAZ,CADF,CAC6B;AAD7B,GAEbD,UAFa,iEAEO;AAChBE,WAHS,CAGO,MAAKC,KAHZ,CAGTD,WAHS,CAIjBA,WAAW,CAACE,aAAZ,CAA0BJ,UAA1B,EAJiB,sCAMPE,CAAAA,WAAW,CAACG,WAAZ,EANO,yFAQbX,OAAO,CAACY,MAAR,CAAe,YAAf,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,qBAAvB,CATa,QAWjBF,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,QAArB,CAXiB,qE,8FAcD,CAChB,KAAKV,kBAAL,GACH,C,uCAEQ,CACL,mBACI,4CACI,oBAAC,eAAD,MADJ,cAEI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAET,IAAjC,EAFJ,cAGI,oBAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAEC,IAA/B,EAHJ,cAII,oBAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,SAAS,CAAEC,KAAtC,EAJJ,CADJ,CAQH,C,iBA7BaJ,S,EAgClB,cAAeO,CAAAA,OAAO,CAClB,IADkB,CAElB,SAACe,QAAD,QAAe,CACXR,WAAW,CAAEN,kBAAkB,CAACC,WAAD,CAAca,QAAd,CADpB,CAAf,EAFkB,CAAP,CAKbZ,GALa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport { Home, Auth, Asset } from 'pages';\nimport HeaderContainer from 'containers/Base/HeaderContainer';\n\nimport storage from 'lib/storage';\nimport { connect } from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport * as userActions from 'redux/modules/user';\n\n\nclass App extends Component {\n\n    initializeUserInfo = async () => {\n        const loggedInfo = storage.get('loggedInfo'); // 로그인 정보를 로컬스토리지에서 가져옵니다.\n        if(!loggedInfo) return; // 로그인 정보가 없다면 여기서 멈춥니다.\n        const { UserActions } = this.props;\n        UserActions.setLoggedInfo(loggedInfo);\n        try {\n            await UserActions.checkStatus();\n        } catch (e) {\n            storage.remove('loggedInfo');\n            window.location.href = '/auth/login?expired';\n        }\n        window.location.href='/asset';         \n    }\n\n    componentDidMount() {\n        this.initializeUserInfo();\n    }\n\n    render() {\n        return (\n            <div>\n                <HeaderContainer/>\n                <Route exact path=\"/\" component={Home}/>\n                <Route path=\"/auth\" component={Auth}/>\n                <Route path=\"/asset_debug\" component={Asset}/>\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    null,\n    (dispatch) => ({\n        UserActions: bindActionCreators(userActions, dispatch)\n    })\n)(App);"]},"metadata":{},"sourceType":"module"}