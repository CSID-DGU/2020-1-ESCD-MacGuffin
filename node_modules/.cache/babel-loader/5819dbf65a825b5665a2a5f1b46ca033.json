{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\BumSu Park\\\\React\\\\macguffin\\\\src\\\\containers\\\\Auth\\\\Register.js\";\nimport React, { Component } from 'react';\nimport { AuthContent, InputWithLabel, AuthButton, RightAlignedLink, AuthError } from 'components/Auth';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as authActions from 'redux/modules/auth';\nimport { isEmail, isLength, isAlphanumeric } from 'validator';\n\nclass Register extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.setError = message => {\n      const {\n        AuthActions\n      } = this.props;\n      AuthActions.setError({\n        form: 'register',\n        message\n      });\n    };\n\n    this.validate = {\n      email: value => {\n        if (!isEmail(value)) {\n          this.setError('잘못된 이메일 형식 입니다.');\n          return false;\n        }\n\n        return true;\n      },\n      username: value => {\n        if (!isAlphanumeric(value) || !isLength(value, {\n          min: 4,\n          max: 15\n        })) {\n          this.setError('아이디는 4~15 글자의 알파벳 혹은 숫자로 이뤄져야 합니다.');\n          return false;\n        }\n\n        return true;\n      },\n      password: value => {\n        if (!isLength(value, {\n          min: 6\n        })) {\n          this.setError('비밀번호를 6자 이상 입력하세요.');\n          return false;\n        }\n\n        this.setError(null); // 이메일과 아이디는 에러 null처리를 중복확인부분에서 하게 됨\n\n        return true;\n      },\n      passwordConfirm: value => {\n        if (this.props.form.get('password') !== value) {\n          this.setError('비밀번호확인이 일치하지 않습니다.');\n          return false;\n        }\n\n        this.setError(null);\n        return true;\n      }\n    };\n\n    this.handleChange = e => {\n      const {\n        AuthActions\n      } = this.props;\n      const {\n        name,\n        value\n      } = e.target;\n      AuthActions.changeInput({\n        name,\n        value,\n        form: 'register'\n      });\n      const validation = this.validate[name](value);\n      if (name.indexOf('password') > -1 || !validation) return; //비밀번호 검증이거나, 검증 실패하면 여기서 마\n      // TODO: 이메일, 아이디 중복 확인\n    };\n  }\n\n  componentWillUnmount() {\n    const {\n      AuthActions\n    } = this.props;\n    AuthActions.initializeForm('register');\n  }\n\n  render() {\n    const {\n      error\n    } = this.props;\n    const {\n      email,\n      username,\n      password,\n      passwordConfirm\n    } = this.props.form.toJS();\n    const {\n      handleChange\n    } = this;\n    return /*#__PURE__*/React.createElement(AuthContent, {\n      title: \"\\uD68C\\uC6D0\\uAC00\\uC785\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(InputWithLabel, {\n      label: \"\\uC774\\uBA54\\uC77C\",\n      name: \"email\",\n      placeholder: \"\\uC774\\uBA54\\uC77C\",\n      value: email,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(InputWithLabel, {\n      label: \"\\uC544\\uC774\\uB514\",\n      name: \"username\",\n      placeholder: \"\\uC544\\uC774\\uB514\",\n      value: username,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(InputWithLabel, {\n      label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n      name: \"password\",\n      placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n      type: \"password\",\n      value: password,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(InputWithLabel, {\n      label: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n      name: \"passwordConfirm\",\n      placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n      type: \"password\",\n      value: passwordConfirm,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }), error && /*#__PURE__*/React.createElement(AuthError, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 30\n      }\n    }, error), /*#__PURE__*/React.createElement(AuthButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"), /*#__PURE__*/React.createElement(RightAlignedLink, {\n      to: \"/auth/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, \"\\uB85C\\uADF8\\uC778\"));\n  }\n\n}\n\nexport default connect(state => ({\n  form: state.auth.getIn(['register', 'form'])\n}), dispatch => ({\n  AuthActions: bindActionCreators(authActions, dispatch)\n}))(Register);","map":{"version":3,"sources":["C:/Users/BumSu Park/React/macguffin/src/containers/Auth/Register.js"],"names":["React","Component","AuthContent","InputWithLabel","AuthButton","RightAlignedLink","AuthError","connect","bindActionCreators","authActions","isEmail","isLength","isAlphanumeric","Register","setError","message","AuthActions","props","form","validate","email","value","username","min","max","password","passwordConfirm","get","handleChange","e","name","target","changeInput","validation","indexOf","componentWillUnmount","initializeForm","render","error","toJS","state","auth","getIn","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { AuthContent, InputWithLabel, AuthButton, RightAlignedLink, AuthError } from 'components/Auth';\r\nimport { connect } from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport * as authActions from 'redux/modules/auth';\r\nimport {isEmail, isLength, isAlphanumeric} from 'validator';\r\n\r\nclass Register extends Component {\r\n\r\n    setError = (message) => {\r\n        const {AuthActions} = this.props;\r\n        AuthActions.setError({\r\n            form: 'register',\r\n            message\r\n        });\r\n    }\r\n\r\n    validate = {\r\n        email: (value) =>{\r\n            if(!isEmail(value)) {\r\n                this.setError('잘못된 이메일 형식 입니다.');\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        username: (value) => {\r\n            if(!isAlphanumeric(value) || !isLength(value, {min:4, max: 15})){\r\n                this.setError('아이디는 4~15 글자의 알파벳 혹은 숫자로 이뤄져야 합니다.');\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        password: (value) => {\r\n            if(!isLength(value, {min: 6})){\r\n                this.setError('비밀번호를 6자 이상 입력하세요.');\r\n                return false;\r\n            }\r\n            this.setError(null); // 이메일과 아이디는 에러 null처리를 중복확인부분에서 하게 됨\r\n            return true;\r\n        },\r\n        passwordConfirm: (value)=>{\r\n            if(this.props.form.get('password')!==value){\r\n                this.setError('비밀번호확인이 일치하지 않습니다.');\r\n                return false;\r\n            }\r\n            this.setError(null);\r\n            return true;\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const { AuthActions } = this.props;\r\n        const { name, value } = e.target;\r\n\r\n        AuthActions.changeInput({\r\n            name,\r\n            value,\r\n            form: 'register'\r\n        });\r\n\r\n        const validation = this.validate[name](value);\r\n        if(name.indexOf('password')>-1||!validation) return; //비밀번호 검증이거나, 검증 실패하면 여기서 마\r\n    \r\n        // TODO: 이메일, 아이디 중복 확인\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const { AuthActions } = this.props;\r\n        AuthActions.initializeForm('register')\r\n    }\r\n    \r\n    render() {\r\n        const {error} = this.props;\r\n        const { email, username, password, passwordConfirm } = this.props.form.toJS();\r\n        const { handleChange } = this;\r\n\r\n        return (\r\n            <AuthContent title=\"회원가입\">\r\n                <InputWithLabel \r\n                    label=\"이메일\"\r\n                    name=\"email\"\r\n                    placeholder=\"이메일\" \r\n                    value={email} \r\n                    onChange={handleChange}\r\n                />\r\n                <InputWithLabel \r\n                    label=\"아이디\" \r\n                    name=\"username\" \r\n                    placeholder=\"아이디\" \r\n                    value={username} \r\n                    onChange={handleChange}\r\n                />\r\n                <InputWithLabel \r\n                    label=\"비밀번호\" \r\n                    name=\"password\" \r\n                    placeholder=\"비밀번호\"\r\n                    type=\"password\" \r\n                    value={password} \r\n                    onChange={handleChange}\r\n                />\r\n                <InputWithLabel \r\n                    label=\"비밀번호 확인\" \r\n                    name=\"passwordConfirm\" \r\n                    placeholder=\"비밀번호 확인\" \r\n                    type=\"password\" \r\n                    value={passwordConfirm}\r\n                    onChange={handleChange}\r\n                />\r\n                {\r\n                    error && <AuthError>{error}</AuthError>\r\n                }\r\n                <AuthButton>회원가입</AuthButton>\r\n                <RightAlignedLink to=\"/auth/login\">로그인</RightAlignedLink>\r\n            </AuthContent>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({\r\n        form: state.auth.getIn(['register', 'form'])\r\n    }),\r\n    (dispatch) => ({\r\n        AuthActions: bindActionCreators(authActions, dispatch)\r\n    })\r\n)(Register);"]},"metadata":{},"sourceType":"module"}